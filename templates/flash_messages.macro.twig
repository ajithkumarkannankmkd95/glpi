{#
/**
 * ---------------------------------------------------------------------
 * GLPI - Gestionnaire Libre de Parc Informatique
 * Copyright (C) 2015-2019 Teclib' and contributors.
 *
 * http://glpi-project.org
 *
 * based on GLPI - Gestionnaire Libre de Parc Informatique
 * Copyright (C) 2003-2014 by the INDEPNET Development Team.
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * GLPI is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * GLPI is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with GLPI. If not, see <http://www.gnu.org/licenses/>.
 * ---------------------------------------------------------------------
 */
#}
{% macro flash_messages() %}
   {% import _self as glpi %}
   {% for type in ['info', 'error', 'warning', 'success'] %}
      {% set class = type %}
      {% set faicon = type %}
      {% if type == 'error' %}
         {% set class = 'danger' %}
         {% set alert_title = __('Error') %}
         {% set faicon = 'ban' %}
      {% endif %}
      {% if type == 'info' %}
         {% set alert_title = __('Information') %}
      {% endif %}
      {% if type == 'warning' %}
         {% set alert_title = __('Warning') %}
      {% endif %}
      {% if type == 'success' %}
         {% set alert_title = __('Success') %}
         {% set faicon = 'check' %}
      {% endif %}
      {{ glpi.flash_message(flash(type), class, alert_title, faicon) }}
   {% endfor %}
{% endmacro %}

{% macro flash_message(messages, class, title, faicon) %}
   {% if messages|length > 0 %}
   <div class="flash alert alert-{{ class }}{% if class != 'danger' %} alert-dismissible{% endif %}">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">Ã—</button>
      <h4>
         <i class="fa fa-{{ faicon }}"></i> {{ title }}
      </h4>
      {% for msg in messages %}
      {{ msg }}<br/>
      {% endfor %}
   </div>
   {% endif %}
{% endmacro %}

